<!doctype html>
<html lang="pt" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.3">
<link rel="alternate" type="application/rss+xml" href="/pt/blog/rss.xml" title="pnpm Blog RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/pt/blog/atom.xml" title="pnpm Blog Atom Feed">
<link rel="preconnect" href="https://www.google-analytics.com">
<link rel="preconnect" href="https://www.googletagmanager.com">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-91385296-1"></script>
<script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","UA-91385296-1",{anonymize_ip:!0})</script>
<link rel="search" type="application/opensearchdescription+xml" title="pnpm" href="/pt/opensearch.xml">
<script src="https://buttons.github.io/buttons.js"></script><title data-react-helmet="true">Perguntas frequentes | pnpm</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" property="og:url" content="https://pnpm.io/pt/4.x/faq"><meta data-react-helmet="true" name="docsearch:language" content="pt"><meta data-react-helmet="true" name="docsearch:version" content="4.x"><meta data-react-helmet="true" name="docsearch:docusaurus_tag" content="docs-default-4.x"><meta data-react-helmet="true" property="og:title" content="Perguntas frequentes | pnpm"><meta data-react-helmet="true" name="description" content="Por que minha pasta node_modules usa espaço se os pacotes são armazenados globalmente?"><meta data-react-helmet="true" property="og:description" content="Por que minha pasta node_modules usa espaço se os pacotes são armazenados globalmente?"><meta data-react-helmet="true" property="og:image" content="https://pnpm.io/pt/img/ogimage.png"><meta data-react-helmet="true" name="twitter:image" content="https://pnpm.io/pt/img/ogimage.png"><link data-react-helmet="true" rel="shortcut icon" href="/pt/img/favicon.png"><link data-react-helmet="true" rel="canonical" href="https://pnpm.io/pt/4.x/faq"><link data-react-helmet="true" rel="alternate" href="https://pnpm.io/4.x/faq" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://pnpm.io/zh/4.x/faq" hreflang="zh"><link data-react-helmet="true" rel="alternate" href="https://pnpm.io/es/4.x/faq" hreflang="es"><link data-react-helmet="true" rel="alternate" href="https://pnpm.io/fr/4.x/faq" hreflang="fr"><link data-react-helmet="true" rel="alternate" href="https://pnpm.io/pt/4.x/faq" hreflang="pt"><link data-react-helmet="true" rel="alternate" href="https://pnpm.io/ru/4.x/faq" hreflang="ru"><link data-react-helmet="true" rel="alternate" href="https://pnpm.io/it/4.x/faq" hreflang="it"><link data-react-helmet="true" rel="alternate" href="https://pnpm.io/tr/4.x/faq" hreflang="tr"><link data-react-helmet="true" rel="alternate" href="https://pnpm.io/hu/4.x/faq" hreflang="hu"><link data-react-helmet="true" rel="alternate" href="https://pnpm.io/4.x/faq" hreflang="x-default"><link data-react-helmet="true" rel="preconnect" href="https://BH4D9OD16A-dsn.algolia.net" crossorigin="anonymous"><link rel="stylesheet" href="/pt/assets/css/styles.aeb2d49b.css">
<link rel="preload" href="/pt/assets/js/runtime~main.ac2684fd.js" as="script">
<link rel="preload" href="/pt/assets/js/main.5972545d.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div><a href="#" class="skipToContent_1NG8">Pular para o conteúdo principal</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/pt/"><img src="/pt/img/pnpm-no-name-with-frame.svg" alt="pnpm" class="themedImage_18lz themedImage--light_1223 navbar__logo"><img src="/pt/img/pnpm-no-name-with-frame.svg" alt="pnpm" class="themedImage_18lz themedImage--dark_2H9A navbar__logo"><b class="navbar__title">pnpm</b></a><a class="navbar__item navbar__link" href="/pt/motivation">Documentação</a><a class="navbar__item navbar__link" href="/pt/blog">Blog</a><a class="navbar__item navbar__link" href="/pt/faq">Perguntas frequentes</a><a class="navbar__item navbar__link" href="/pt/community">Comunidade</a><a class="navbar__item navbar__link" href="/pt/benchmarks">Comparações</a></div><div class="navbar__items navbar__items--right"><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a class="navbar__item navbar__link" href="/pt/4.x/motivation">4.x</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/pt/next/faq">Next</a></li><li><a class="dropdown__link" href="/pt/faq">6.x</a></li><li><a class="dropdown__link" href="/pt/5.x/faq">5.x</a></li><li><a aria-current="page" class="dropdown__link dropdown__link--active" href="/pt/4.x/faq">4.x</a></li></ul></div><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href="#" class="navbar__item navbar__link"><span><svg viewBox="0 0 20 20" width="20" height="20" aria-hidden="true" style="vertical-align:text-bottom;margin-right:5px"><path fill="currentColor" d="M19.753 10.909c-.624-1.707-2.366-2.726-4.661-2.726-.09 0-.176.002-.262.006l-.016-2.063 3.525-.607c.115-.019.133-.119.109-.231-.023-.111-.167-.883-.188-.976-.027-.131-.102-.127-.207-.109-.104.018-3.25.461-3.25.461l-.013-2.078c-.001-.125-.069-.158-.194-.156l-1.025.016c-.105.002-.164.049-.162.148l.033 2.307s-3.061.527-3.144.543c-.084.014-.17.053-.151.143.019.09.19 1.094.208 1.172.018.08.072.129.188.107l2.924-.504.035 2.018c-1.077.281-1.801.824-2.256 1.303-.768.807-1.207 1.887-1.207 2.963 0 1.586.971 2.529 2.328 2.695 3.162.387 5.119-3.06 5.769-4.715 1.097 1.506.256 4.354-2.094 5.98-.043.029-.098.129-.033.207l.619.756c.08.096.206.059.256.023 2.51-1.73 3.661-4.515 2.869-6.683zm-7.386 3.188c-.966-.121-.944-.914-.944-1.453 0-.773.327-1.58.876-2.156a3.21 3.21 0 011.229-.799l.082 4.277a2.773 2.773 0 01-1.243.131zm2.427-.553l.046-4.109c.084-.004.166-.01.252-.01.773 0 1.494.145 1.885.361.391.217-1.023 2.713-2.183 3.758zm-8.95-7.668a.196.196 0 00-.196-.145h-1.95a.194.194 0 00-.194.144L.008 16.916c-.017.051-.011.076.062.076h1.733c.075 0 .099-.023.114-.072l1.008-3.318h3.496l1.008 3.318c.016.049.039.072.113.072h1.734c.072 0 .078-.025.062-.076-.014-.05-3.083-9.741-3.494-11.04zm-2.618 6.318l1.447-5.25 1.447 5.25H3.226z"></path></svg><span>Português Brasileiro</span></span></a><ul class="dropdown__menu"><li><a href="/4.x/faq" target="_self" rel="noopener noreferrer" class="dropdown__link" style="text-transform:capitalize">English</a></li><li><a href="/zh/4.x/faq" target="_self" rel="noopener noreferrer" class="dropdown__link" style="text-transform:capitalize">中文</a></li><li><a href="/es/4.x/faq" target="_self" rel="noopener noreferrer" class="dropdown__link" style="text-transform:capitalize">Español</a></li><li><a href="/fr/4.x/faq" target="_self" rel="noopener noreferrer" class="dropdown__link" style="text-transform:capitalize">Français</a></li><li><a href="/pt/4.x/faq" target="_self" rel="noopener noreferrer" class="dropdown__link dropdown__link--active" style="text-transform:capitalize">Português Brasileiro</a></li><li><a href="/ru/4.x/faq" target="_self" rel="noopener noreferrer" class="dropdown__link" style="text-transform:capitalize">Русский</a></li><li><a href="/it/4.x/faq" target="_self" rel="noopener noreferrer" class="dropdown__link" style="text-transform:capitalize">Italiano</a></li><li><a href="/tr/4.x/faq" target="_self" rel="noopener noreferrer" class="dropdown__link" style="text-transform:capitalize">Türkçe</a></li><li><a href="/hu/4.x/faq" target="_self" rel="noopener noreferrer" class="dropdown__link" style="text-transform:capitalize">Magyar</a></li><li><a href="https://crowdin.com/project/pnpm" target="_blank" rel="noopener noreferrer" class="dropdown__link">Help Us Translate</a></li></ul></div><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a class="navbar__item navbar__link">🧡 Sponsor Us</a><ul class="dropdown__menu"><li><a href="https://opencollective.com/pnpm" target="_blank" rel="noopener noreferrer" class="dropdown__link"><span>Open Collective<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_1YZX"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li><a class="dropdown__link" href="/pt/crypto-donations">Crypto Donations</a></li></ul></div><a href="https://github.com/pnpm/pnpm" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header-github-link" aria-label="GitHub repository"></a><div class="react-toggle displayOnlyInLargeViewport_2r8T react-toggle--disabled"><div class="react-toggle-track" role="button" tabindex="-1"><div class="react-toggle-track-check"><span class="toggle_39sC">🌜</span></div><div class="react-toggle-track-x"><span class="toggle_39sC">🌞</span></div><div class="react-toggle-thumb"></div></div><input type="checkbox" class="react-toggle-screenreader-only" aria-label="Switch between dark and light mode"></div><div class="searchBox_3-7P"><button type="button" class="DocSearch DocSearch-Button" aria-label="Buscar"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Buscar</span></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a class="navbar__brand" href="/pt/"><img src="/pt/img/pnpm-no-name-with-frame.svg" alt="pnpm" class="themedImage_18lz themedImage--light_1223 navbar__logo"><img src="/pt/img/pnpm-no-name-with-frame.svg" alt="pnpm" class="themedImage_18lz themedImage--dark_2H9A navbar__logo"><b class="navbar__title">pnpm</b></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/pt/motivation">Documentação</a></li><li class="menu__list-item"><a class="menu__link" href="/pt/blog">Blog</a></li><li class="menu__list-item"><a class="menu__link" href="/pt/faq">Perguntas frequentes</a></li><li class="menu__list-item"><a class="menu__link" href="/pt/community">Comunidade</a></li><li class="menu__list-item"><a class="menu__link" href="/pt/benchmarks">Comparações</a></li><li class="menu__list-item"><a role="button" class="menu__link menu__link--sublist">Versions</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/pt/next/faq">Next</a></li><li class="menu__list-item"><a class="menu__link" href="/pt/faq">6.x</a></li><li class="menu__list-item"><a class="menu__link" href="/pt/5.x/faq">5.x</a></li><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active" href="/pt/4.x/faq">4.x</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a href="#" role="button" class="menu__link menu__link--sublist"><span><svg viewBox="0 0 20 20" width="20" height="20" aria-hidden="true" style="vertical-align:text-bottom;margin-right:5px"><path fill="currentColor" d="M19.753 10.909c-.624-1.707-2.366-2.726-4.661-2.726-.09 0-.176.002-.262.006l-.016-2.063 3.525-.607c.115-.019.133-.119.109-.231-.023-.111-.167-.883-.188-.976-.027-.131-.102-.127-.207-.109-.104.018-3.25.461-3.25.461l-.013-2.078c-.001-.125-.069-.158-.194-.156l-1.025.016c-.105.002-.164.049-.162.148l.033 2.307s-3.061.527-3.144.543c-.084.014-.17.053-.151.143.019.09.19 1.094.208 1.172.018.08.072.129.188.107l2.924-.504.035 2.018c-1.077.281-1.801.824-2.256 1.303-.768.807-1.207 1.887-1.207 2.963 0 1.586.971 2.529 2.328 2.695 3.162.387 5.119-3.06 5.769-4.715 1.097 1.506.256 4.354-2.094 5.98-.043.029-.098.129-.033.207l.619.756c.08.096.206.059.256.023 2.51-1.73 3.661-4.515 2.869-6.683zm-7.386 3.188c-.966-.121-.944-.914-.944-1.453 0-.773.327-1.58.876-2.156a3.21 3.21 0 011.229-.799l.082 4.277a2.773 2.773 0 01-1.243.131zm2.427-.553l.046-4.109c.084-.004.166-.01.252-.01.773 0 1.494.145 1.885.361.391.217-1.023 2.713-2.183 3.758zm-8.95-7.668a.196.196 0 00-.196-.145h-1.95a.194.194 0 00-.194.144L.008 16.916c-.017.051-.011.076.062.076h1.733c.075 0 .099-.023.114-.072l1.008-3.318h3.496l1.008 3.318c.016.049.039.072.113.072h1.734c.072 0 .078-.025.062-.076-.014-.05-3.083-9.741-3.494-11.04zm-2.618 6.318l1.447-5.25 1.447 5.25H3.226z"></path></svg><span>Languages</span></span></a><ul class="menu__list"><li class="menu__list-item"><a href="/4.x/faq" target="_self" rel="noopener noreferrer" class="menu__link" style="text-transform:capitalize">English</a></li><li class="menu__list-item"><a href="/zh/4.x/faq" target="_self" rel="noopener noreferrer" class="menu__link" style="text-transform:capitalize">中文</a></li><li class="menu__list-item"><a href="/es/4.x/faq" target="_self" rel="noopener noreferrer" class="menu__link" style="text-transform:capitalize">Español</a></li><li class="menu__list-item"><a href="/fr/4.x/faq" target="_self" rel="noopener noreferrer" class="menu__link" style="text-transform:capitalize">Français</a></li><li class="menu__list-item"><a href="/pt/4.x/faq" target="_self" rel="noopener noreferrer" class="menu__link dropdown__link--active" style="text-transform:capitalize">Português Brasileiro</a></li><li class="menu__list-item"><a href="/ru/4.x/faq" target="_self" rel="noopener noreferrer" class="menu__link" style="text-transform:capitalize">Русский</a></li><li class="menu__list-item"><a href="/it/4.x/faq" target="_self" rel="noopener noreferrer" class="menu__link" style="text-transform:capitalize">Italiano</a></li><li class="menu__list-item"><a href="/tr/4.x/faq" target="_self" rel="noopener noreferrer" class="menu__link" style="text-transform:capitalize">Türkçe</a></li><li class="menu__list-item"><a href="/hu/4.x/faq" target="_self" rel="noopener noreferrer" class="menu__link" style="text-transform:capitalize">Magyar</a></li><li class="menu__list-item"><a href="https://crowdin.com/project/pnpm" target="_blank" rel="noopener noreferrer" class="menu__link">Help Us Translate</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a role="button" class="menu__link menu__link--sublist">🧡 Sponsor Us</a><ul class="menu__list"><li class="menu__list-item"><a href="https://opencollective.com/pnpm" target="_blank" rel="noopener noreferrer" class="menu__link"><span>Open Collective<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_1YZX"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="menu__list-item"><a class="menu__link" href="/pt/crypto-donations">Crypto Donations</a></li></ul></li><li class="menu__list-item"><a href="https://github.com/pnpm/pnpm" target="_blank" rel="noopener noreferrer" class="menu__link header-github-link" aria-label="GitHub repository"></a></li></ul></div></div></div></nav><div class="main-wrapper docs-wrapper doc-page"><div class="docPage_Jgm6"><main class="docMainContainer_3RLu docMainContainerEnhanced__7VX"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_2_58"><div class="alert alert--warning margin-bottom--md" role="alert"><div>Esta é a documentação para pnpm <b>4.x</b>, que não é mais mantida.</div><div class="margin-top--md">Para documentação atualizada, veja a <b><a href="/pt/faq">última versão</a></b> (6.x).</div></div><div class="docItemContainer_1oqh"><article><span class="badge badge--secondary">Version: 4.x</span><div class="markdown"><header><h1 class="h1Heading_3NBa">Perguntas frequentes</h1></header><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2qge" id="por-que-minha-pasta-node_modules-usa-espaço-se-os-pacotes-são-armazenados-globalmente"></a>Por que minha pasta <code>node_modules</code> usa espaço se os pacotes são armazenados globalmente?<a class="hash-link" href="#por-que-minha-pasta-node_modules-usa-espaço-se-os-pacotes-são-armazenados-globalmente" title="Link direto para o título">#</a></h2><p>pnpm creates <a href="https://en.wikipedia.org/wiki/Hard_link" target="_blank" rel="noopener noreferrer">hard links</a> from the global store to project&#x27;s <code>node_modules</code> folders. Hard links point to the same place on the disk where the original files are. So, for example, if you have <code>foo</code> in your project as a dependency and it occupies 1MB of space, then it will look like it occupies 1MB of space in the project&#x27;s <code>node_modules</code> folder and the same amount of space in the global store. However, that 1MB is <em>the same space</em> on the disk addressed from two different locations. So in total <code>foo</code> occupies 1MB, not 2MB.</p><p>Para mais sobre este assunto:</p><ul><li><a href="https://unix.stackexchange.com/questions/88423/why-do-hard-links-seem-to-take-the-same-space-as-the-originals" target="_blank" rel="noopener noreferrer">Porque os hard links parecem ocupar o mesmo espaço que os originais?</a></li><li><a href="https://gist.github.com/zkochan/106cfef49f8476b753a9cbbf9c65aff1" target="_blank" rel="noopener noreferrer">Uma thread da sala de bate-papo do pnpm</a></li><li><a href="https://github.com/pnpm/pnpm/issues/794" target="_blank" rel="noopener noreferrer">Uma issue no repositório do pnpm</a></li></ul><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2qge" id="ele-funciona-no-windows-it-is-harder-to-create-symlinks-on-windows"></a>Ele funciona no Windows? It is harder to create symlinks on Windows<a class="hash-link" href="#ele-funciona-no-windows-it-is-harder-to-create-symlinks-on-windows" title="Link direto para o título">#</a></h2><p>Using symlinks on Windows is problematic indeed. That is why pnpm uses junctions instead of symlinks on Windows OS.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2qge" id="ele-funciona-no-windows-nested-node_modules-approach-is-basically-incompatible-with-windows"></a>Ele funciona no Windows? Nested <code>node_modules</code> approach is basically incompatible with Windows<a class="hash-link" href="#ele-funciona-no-windows-nested-node_modules-approach-is-basically-incompatible-with-windows" title="Link direto para o título">#</a></h2><p>Early versions of npm had issues because of nesting all <code>node_modules</code> (see <a href="https://github.com/nodejs/node-v0.x-archive/issues/6960" target="_blank" rel="noopener noreferrer">Node&#x27;s nested node_modules approach is basically incompatible with Windows</a>). However, pnpm does not create deep folders, it stores all packages flatly and uses symlinks to create the dependency tree structure.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2qge" id="e-quanto-aos-links-simbólicos-circulares"></a>E quanto aos links simbólicos circulares?<a class="hash-link" href="#e-quanto-aos-links-simbólicos-circulares" title="Link direto para o título">#</a></h2><p>Although pnpm uses symlinks to put dependencies into <code>node_modules</code> folders, circular symlinks are avoided because parent packages are placed into the same <code>node_modules</code> folder in which their dependencies are. So <code>foo</code>&#x27;s dependencies are not in <code>foo/node_modules</code> but <code>foo</code> is in <code>node_modules/foo</code>, together with its own dependencies.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2qge" id="por-que-usar-hard-links-por-que-não-criar-um-link-simbólico-direto-para-o-armazenamento-global"></a>Por que usar hard links? Por que não criar um link simbólico direto para o armazenamento global?<a class="hash-link" href="#por-que-usar-hard-links-por-que-não-criar-um-link-simbólico-direto-para-o-armazenamento-global" title="Link direto para o título">#</a></h2><p>Um pacote pode ter diferentes conjuntos de dependências numa mesma máquina.</p><p>In project <strong>A</strong> <code>foo@1.0.0</code> can have dependency resolved to <code>bar@1.0.0</code> but in project <strong>B</strong> the same dependency of <code>foo</code> might resolve to <code>bar@1.1.0</code>. So pnpm hard links <code>foo@1.0.0</code> to every project where it is used, in order to create different sets of dependencies for it.</p><p>Direct symlinking to the global store would work with Node&#x27;s <code>--preserve-symlinks</code> flag. But <code>--preserve-symlinks</code> comes with a bunch of different issues, so we decided to stick with hard links. For more details about why this decision was made, see: <a href="https://github.com/nodejs/node-eps/issues/46" target="_blank" rel="noopener noreferrer">https://github.com/nodejs/node-eps/issues/46</a>.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2qge" id="does-pnpm-work-across-multiple-hard-drives-or-filesystems"></a>Does pnpm work across multiple hard drives or filesystems?<a class="hash-link" href="#does-pnpm-work-across-multiple-hard-drives-or-filesystems" title="Link direto para o título">#</a></h2><p>The package store should be on the same disk as installations. Otherwise packages will be copied, not linked. This is due to a OS limitation in hard-linking. See <a href="https://github.com/pnpm/pnpm/issues/712" target="_blank" rel="noopener noreferrer">Issue #712</a> for more details.</p><p>pnpm functions differently based on the 2 cases below:</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2qge" id="o-caminho-para-o-armazenamento-global-é-especificado"></a>O caminho para o armazenamento global é especificado<a class="hash-link" href="#o-caminho-para-o-armazenamento-global-é-especificado" title="Link direto para o título">#</a></h3><p>If the store path is specified via <a href="/pt/4.x/configuring">the store config</a>, then copying occurs between the store and any projects that are on a different disk.</p><p>If you run <code>pnpm install</code> on disk <code>D:</code>, then the pnpm store must be on disk <code>D:</code>. If the pnpm store is located on disk <code>C:</code>, then all required packages will be directly copied to the project location. This severely reduces the benefits of pnpm.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2qge" id="o-caminho-para-o-armazenamento-global-não-é-especificado"></a>O caminho para o armazenamento global NÃO é especificado<a class="hash-link" href="#o-caminho-para-o-armazenamento-global-não-é-especificado" title="Link direto para o título">#</a></h3><p>If the store path is not set, then multiple stores are created (one per each drive or filesystem).</p><p>If installation is run on disk <code>D:</code>, the store will be created in <code>D:\.pnpm-store</code>. If later the installation is run on disk <code>C:</code>, an independent store will be created in <code>C:\.pnpm-store</code>. The projects would still maintain the benefits of pnpm, but each drive may have redundant packages.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2qge" id="o-que-pnpm-store-prune-faz-é-prejudicial"></a>O que <code>pnpm store prune</code> faz? É prejudicial?<a class="hash-link" href="#o-que-pnpm-store-prune-faz-é-prejudicial" title="Link direto para o título">#</a></h2><p>O comando <code>pnpm store prune</code> remove <em>pacotes não referenciados</em>.</p><p>Unreferenced packages are packages that are not used by any projects on the system. Packages can become unreferenced after most installation operations.</p><p>For example: during <code>pnpm install</code>, package <code>foo@1.0.0</code> is updated to <code>foo@1.0.1</code>. pnpm will keep <code>foo@1.0.0</code> in the store, as it does not automatically remove packages. If package <code>foo@1.0.0</code> is not used by any other project on the system, it becomes unreferenced. Running <code>pnpm store prune</code> would remove <code>foo@1.0.0</code> from the store.</p><p>Running <code>pnpm store prune</code> is not harmful and has no side effects on your projects. If future installations require removed packages, pnpm will download them again.</p><p>It is best practice to run <code>pnpm store prune</code> occasionally to clean up the store, but not too frequently. Sometimes, unreferenced packages become required again. This could occur when switching branches and installing older dependencies. Then pnpm would need to re-download all removed packages, briefly slowing down the installation process.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2qge" id="o-que-pnpm-significa"></a>O que <code>pnpm</code> significa?<a class="hash-link" href="#o-que-pnpm-significa" title="Link direto para o título">#</a></h2><p><code>pnpm</code> significa <code>performant npm</code> (inglês para <code>npm com desempenho</code>). <a href="https://github.com/rstacruz/" target="_blank" rel="noopener noreferrer">@rstacruz</a> came up with the name.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2qge" id="pnpm-does-not-work-with-your-project-here"></a><code>pnpm</code> does not work with &lt;YOUR-PROJECT-HERE&gt;?<a class="hash-link" href="#pnpm-does-not-work-with-your-project-here" title="Link direto para o título">#</a></h2><p>In most cases it means that one of the dependencies require packages not declared in <code>package.json</code>. It is a common mistake caused by flat <code>node_modules</code>. Caso isso aconteça, este é um erro na dependência, que deve ser corrigida. That might take time though, so pnpm supports workarounds to make the buggy packages work.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2qge" id="solução-1"></a>Solução 1<a class="hash-link" href="#solução-1" title="Link direto para o título">#</a></h3><p>In the following example, a dependency does <strong>not</strong> have the <code>iterall</code> module in its own list of deps.</p><p>The easiest solution to resolve missing dependencies of the buggy packages is to <strong>add <code>iterall</code> as a dependency to our project&#x27;s <code>package.json</code></strong>.</p><p>You can do so, by installing it via:</p><p><code>pnpm i iterall</code></p><p>It will be automatically added to your project&#x27;s <code>package.json</code>.</p><div class="codeBlockContainer_1LYG"><div class="codeBlockContent_eUyZ json"><pre tabindex="0" class="prism-code language-json codeBlock_rZi- thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_18vy"><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;dependencies&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">    ...</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">&quot;iterall&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;^1.2.2&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">    ...</span></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span></span></code></pre><button type="button" aria-label="Copiar para a área de transferência" class="copyButton_2A-v clean-btn">Copiar</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2qge" id="solução-2"></a>Solução 2<a class="hash-link" href="#solução-2" title="Link direto para o título">#</a></h3><p>One of the solutions is to use <a href="/pt/4.x/pnpmfile#hooks">hooks</a> for adding the missing dependencies to the package&#x27;s <code>package.json</code>.</p><p>An example was <a href="https://github.com/pnpm/pnpm/issues/1043" target="_blank" rel="noopener noreferrer">Webpack Dashboard</a> which wasn&#x27;t working with <code>pnpm</code>. It has since been resolved such that it works with <code>pnpm</code> now.</p><p>Antes, ele costumava gerar um erro:</p><div class="codeBlockContainer_1LYG"><div class="codeBlockContent_eUyZ console"><pre tabindex="0" class="prism-code language-console codeBlock_rZi- thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_18vy"><span class="token-line" style="color:#393A34"><span class="token plain">Error: Cannot find module &#x27;babel-traverse&#x27;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">  at /node_modules/.registry.npmjs.org/inspectpack/2.2.3/node_modules/inspectpack/lib/actions/parse</span></span></code></pre><button type="button" aria-label="Copiar para a área de transferência" class="copyButton_2A-v clean-btn">Copiar</button></div></div><p>The problem was that <code>babel-traverse</code> was used in <code>inspectpack</code> library which was used by <code>webpack-dashboard</code>. But <code>babel-traverse</code> wasn&#x27;t specified in <code>inspectpack</code>&#x27;s <code>package.json</code>. It still worked with <code>npm</code> and <code>yarn</code> because they create flat <code>node_modules</code>.</p><p>Solution was to create a <code>pnpmfile.js</code> with the following contents:</p><div class="codeBlockContainer_1LYG"><div class="codeBlockContent_eUyZ js"><pre tabindex="0" class="prism-code language-js codeBlock_rZi- thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_18vy"><span class="token-line" style="color:#393A34"><span class="token plain">module</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">exports</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">  hooks</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token function" style="color:#d73a49">readPackage</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter">pkg</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token keyword control-flow" style="color:#00009f">switch</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">pkg</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">name</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">case</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;inspectpack&#x27;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">          pkg</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">dependencies</span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&#x27;babel-traverse&#x27;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;^6.26.0&#x27;</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token keyword control-flow" style="color:#00009f">break</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token keyword control-flow" style="color:#00009f">return</span><span class="token plain"> pkg</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span></span></code></pre><button type="button" aria-label="Copiar para a área de transferência" class="copyButton_2A-v clean-btn">Copiar</button></div></div><p>After creating <code>pnpmfile.js</code>, delete <code>pnpm-lock.yaml</code> only. No need to delete <code>node_modules</code>. Then install the dependencies &amp; it should be working.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2qge" id="solução-3"></a>Solução 3<a class="hash-link" href="#solução-3" title="Link direto para o título">#</a></h3><p>In case there are too many issues, you can use the <code>shamefully-hoist</code> config. This creates a flat <code>node_modules</code> structure similar to the one created by <code>npm</code> or <code>yarn</code>.</p><p>Para utilizá-lo, execute <code>pnpm install --shamefully-hoist</code>.</p></div><footer class="row docusaurus-mt-lg"><div class="col"><a href="https://crowdin.com/project/pnpm/pt" target="_blank" rel="noreferrer noopener"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Cl11" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Editar essa página</a></div><div class="col lastUpdated_QAjA"></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Navegação das páginas da documentação"><div class="pagination-nav__item"></div><div class="pagination-nav__item pagination-nav__item--next"></div></nav></div></div><div class="col col--3"><div class="tableOfContents_1wtl thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#por-que-minha-pasta-node_modules-usa-espaço-se-os-pacotes-são-armazenados-globalmente" class="table-of-contents__link">Por que minha pasta <code>node_modules</code> usa espaço se os pacotes são armazenados globalmente?</a></li><li><a href="#ele-funciona-no-windows-it-is-harder-to-create-symlinks-on-windows" class="table-of-contents__link">Ele funciona no Windows? It is harder to create symlinks on Windows</a></li><li><a href="#ele-funciona-no-windows-nested-node_modules-approach-is-basically-incompatible-with-windows" class="table-of-contents__link">Ele funciona no Windows? Nested <code>node_modules</code> approach is basically incompatible with Windows</a></li><li><a href="#e-quanto-aos-links-simbólicos-circulares" class="table-of-contents__link">E quanto aos links simbólicos circulares?</a></li><li><a href="#por-que-usar-hard-links-por-que-não-criar-um-link-simbólico-direto-para-o-armazenamento-global" class="table-of-contents__link">Por que usar hard links? Por que não criar um link simbólico direto para o armazenamento global?</a></li><li><a href="#does-pnpm-work-across-multiple-hard-drives-or-filesystems" class="table-of-contents__link">Does pnpm work across multiple hard drives or filesystems?</a><ul><li><a href="#o-caminho-para-o-armazenamento-global-é-especificado" class="table-of-contents__link">O caminho para o armazenamento global é especificado</a></li><li><a href="#o-caminho-para-o-armazenamento-global-não-é-especificado" class="table-of-contents__link">O caminho para o armazenamento global NÃO é especificado</a></li></ul></li><li><a href="#o-que-pnpm-store-prune-faz-é-prejudicial" class="table-of-contents__link">O que <code>pnpm store prune</code> faz? É prejudicial?</a></li><li><a href="#o-que-pnpm-significa" class="table-of-contents__link">O que <code>pnpm</code> significa?</a></li><li><a href="#pnpm-does-not-work-with-your-project-here" class="table-of-contents__link"><code>pnpm</code> does not work with &lt;YOUR-PROJECT-HERE&gt;?</a><ul><li><a href="#solução-1" class="table-of-contents__link">Solução 1</a></li><li><a href="#solução-2" class="table-of-contents__link">Solução 2</a></li><li><a href="#solução-3" class="table-of-contents__link">Solução 3</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Documentação</div><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/pt/installation">Primeiros Passos</a></li><li class="footer__item"><a class="footer__link-item" href="/pt/pnpm-cli">pnpm CLI</a></li><li class="footer__item"><a class="footer__link-item" href="/pt/workspaces">Área de Trabalho</a></li><li class="footer__item"><a class="footer__link-item" href="/pt/npmrc">.npmrc</a></li></ul></div><div class="col footer__col"><div class="footer__title">Comunidade</div><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/pt/users">Mostruário</a></li><li class="footer__item"><a href="https://stackoverflow.com/questions/tagged/pnpm" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Stack Overflow<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_1YZX"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://r.pnpm.io/chat" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Chat do projeto<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_1YZX"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://twitter.com/pnpmjs" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Twitter<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_1YZX"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div><div class="col footer__col"><div class="footer__title">Contribuindo</div><ul class="footer__items"><li class="footer__item"><a href="https://github.com/pnpm/pnpm" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_1YZX"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://opencollective.com/pnpm" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Sponsor Us on Open Collective<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_1YZX"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a class="footer__link-item" href="/pt/crypto-donations">Crypto Donations</a></li><li class="footer__item"><a href="https://crowdin.com/project/pnpm" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Nos ajude a traduzir<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_1YZX"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div></div><div class="footer__bottom text--center"><div class="margin-bottom--sm"><img src="/pt/img/pnpm-light.svg" alt="" class="themedImage_18lz themedImage--light_1223 footer__logo"><img src="/pt/img/pnpm-light.svg" alt="" class="themedImage_18lz themedImage--dark_2H9A footer__logo"></div><div class="footer__copyright">Copyright © 2015-2021 contribuidores do pnpm</div></div></div></footer></div>
<script src="/pt/assets/js/runtime~main.ac2684fd.js"></script>
<script src="/pt/assets/js/main.5972545d.js"></script>
</body>
</html>